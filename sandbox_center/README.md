# æ²™ç®±ç¯å¢ƒç»„ä»¶ (Sandbox Center)

æœ¬ç›®å½•åŒ…å«æ²™ç®±ç¯å¢ƒç›¸å…³ç»„ä»¶ï¼Œæä¾›å®‰å…¨çš„ä»£ç æ‰§è¡Œã€GUIå·¥å…·å’Œéš”ç¦»è¿è¡Œç¯å¢ƒã€‚

## ğŸ“‹ ç»„ä»¶åˆ—è¡¨

### GUI Tools - å›¾å½¢ç•Œé¢å·¥å…·ç»„ä»¶
æä¾›å›¾å½¢ç”¨æˆ·ç•Œé¢ç›¸å…³çš„å·¥å…·å’ŒåŠŸèƒ½ã€‚

**å‰ç½®ä½¿ç”¨æ¡ä»¶ï¼š**
- æ”¯æŒå›¾å½¢ç•Œé¢çš„è¿è¡Œç¯å¢ƒ
- å¿…è¦çš„å›¾å½¢åº“ä¾èµ–
- é€‚å½“çš„æ˜¾ç¤ºè®¾å¤‡æˆ–è™šæ‹Ÿæ˜¾ç¤º

**ä¸»è¦åŠŸèƒ½ï¼š**
- GUIåº”ç”¨ç¨‹åºçš„æ²™ç®±è¿è¡Œ
- å›¾å½¢ç•Œé¢å…ƒç´ çš„è‡ªåŠ¨åŒ–æ“ä½œ
- æˆªå›¾å’Œå±å¹•å½•åˆ¶åŠŸèƒ½
- çª—å£ç®¡ç†å’Œæ§åˆ¶

## ğŸ”§ æ²™ç®±ç¯å¢ƒç‰¹ç‚¹

### å®‰å…¨éš”ç¦»
- **è¿›ç¨‹éš”ç¦»**: æ¯ä¸ªä»»åŠ¡åœ¨ç‹¬ç«‹è¿›ç¨‹ä¸­è¿è¡Œ
- **æ–‡ä»¶ç³»ç»Ÿéš”ç¦»**: é™åˆ¶æ–‡ä»¶è®¿é—®èŒƒå›´
- **ç½‘ç»œéš”ç¦»**: å¯æ§åˆ¶çš„ç½‘ç»œè®¿é—®æƒé™
- **èµ„æºé™åˆ¶**: CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨é™åˆ¶

### è¿è¡Œç¯å¢ƒ
- **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒPythonã€JavaScriptã€Javaç­‰
- **é¢„è£…åº“**: å¸¸ç”¨å¼€å‘åº“å’Œå·¥å…·é¢„è£…
- **ç‰ˆæœ¬ç®¡ç†**: æ”¯æŒå¤šç‰ˆæœ¬è¿è¡Œç¯å¢ƒ
- **å¿«é€Ÿå¯åŠ¨**: å®¹å™¨åŒ–æŠ€æœ¯å®ç°å¿«é€Ÿç¯å¢ƒå¯åŠ¨

## ğŸ›¡ï¸ å®‰å…¨æœºåˆ¶

### è®¿é—®æ§åˆ¶
- æ–‡ä»¶ç³»ç»Ÿè®¿é—®æƒé™ä¸¥æ ¼æ§åˆ¶
- ç½‘ç»œè®¿é—®ç™½åå•æœºåˆ¶
- ç³»ç»Ÿè°ƒç”¨ç›‘æ§å’Œé™åˆ¶
- æ¶æ„ä»£ç æ£€æµ‹å’Œæ‹¦æˆª

### èµ„æºç›‘æ§
- å®æ—¶ç›‘æ§CPUå’Œå†…å­˜ä½¿ç”¨
- ç£ç›˜ç©ºé—´ä½¿ç”¨é™åˆ¶
- ç½‘ç»œæµé‡ç›‘æ§
- æ‰§è¡Œæ—¶é—´é™åˆ¶

## ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®

| ç¯å¢ƒå˜é‡ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|---------|------|--------|------|
| `SANDBOX_TIMEOUT` | âŒ | 30 | æ²™ç®±æ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ |
| `SANDBOX_MEMORY_LIMIT` | âŒ | 512MB | å†…å­˜ä½¿ç”¨é™åˆ¶ |
| `SANDBOX_CPU_LIMIT` | âŒ | 1.0 | CPUä½¿ç”¨é™åˆ¶ï¼ˆæ ¸å¿ƒæ•°ï¼‰ |
| `SANDBOX_NETWORK_ACCESS` | âŒ | false | æ˜¯å¦å…è®¸ç½‘ç»œè®¿é—® |
| `GUI_DISPLAY_MODE` | âŒ | virtual | å›¾å½¢æ˜¾ç¤ºæ¨¡å¼ |

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### GUIå·¥å…·ä½¿ç”¨ç¤ºä¾‹
```python
from agentbricks.components.sandbox_center import GUITools
import asyncio

# åˆå§‹åŒ–GUIå·¥å…·
gui_tools = GUITools()

async def gui_example():
    # åœ¨æ²™ç®±ç¯å¢ƒä¸­è¿è¡ŒGUIåº”ç”¨
    result = await gui_tools.run_gui_app({
        "app_path": "/path/to/gui_app.py",
        "display_mode": "virtual",
        "timeout": 60
    })

    print("GUIåº”ç”¨è¿è¡Œç»“æœ:", result.status)
    if result.screenshot:
        print("æˆªå›¾ä¿å­˜è·¯å¾„:", result.screenshot)

# è‡ªåŠ¨åŒ–GUIæ“ä½œç¤ºä¾‹
async def gui_automation_example():
    # å¯åŠ¨åº”ç”¨å¹¶æ‰§è¡Œè‡ªåŠ¨åŒ–æ“ä½œ
    automation_result = await gui_tools.automate_gui({
        "actions": [
            {"type": "click", "coordinates": (100, 200)},
            {"type": "type", "text": "Hello World"},
            {"type": "key_press", "key": "Enter"}
        ],
        "capture_steps": True
    })

    print("è‡ªåŠ¨åŒ–æ“ä½œå®Œæˆ:", automation_result.success)

asyncio.run(gui_example())
```

### æ²™ç®±ä»£ç æ‰§è¡Œç¤ºä¾‹
```python
# å®‰å…¨ä»£ç æ‰§è¡Œ
async def sandbox_execution_example():
    code_executor = SandboxExecutor()

    # Pythonä»£ç æ‰§è¡Œ
    python_result = await code_executor.execute({
        "language": "python",
        "code": """
import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(0, 10, 100)
y = np.sin(x)

plt.figure(figsize=(10, 6))
plt.plot(x, y)
plt.title('Sine Wave')
plt.savefig('output.png')
plt.show()
        """,
        "timeout": 30,
        "allow_gui": True
    })

    print("ä»£ç æ‰§è¡ŒçŠ¶æ€:", python_result.status)
    print("è¾“å‡ºç»“æœ:", python_result.output)
    if python_result.files:
        print("ç”Ÿæˆçš„æ–‡ä»¶:", python_result.files)

asyncio.run(sandbox_execution_example())
```

### å¤šç¯å¢ƒæ”¯æŒç¤ºä¾‹
```python
# å¤šç¼–ç¨‹è¯­è¨€ç¯å¢ƒæ”¯æŒ
async def multi_language_example():
    # JavaScriptä»£ç æ‰§è¡Œ
    js_result = await code_executor.execute({
        "language": "javascript",
        "code": """
const canvas = require('canvas');
const { createCanvas, loadImage } = canvas;

const width = 800;
const height = 600;
const canvas_obj = createCanvas(width, height);
const ctx = canvas_obj.getContext('2d');

// ç»˜åˆ¶å›¾å½¢
ctx.fillStyle = 'blue';
ctx.fillRect(0, 0, width, height);

// ä¿å­˜å›¾ç‰‡
const fs = require('fs');
const buffer = canvas_obj.toBuffer('image/png');
fs.writeFileSync('canvas_output.png', buffer);

console.log('Canvas rendering completed');
        """,
        "timeout": 20
    })

    print("JavaScriptæ‰§è¡Œç»“æœ:", js_result.output)

asyncio.run(multi_language_example())
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### å®¹å™¨åŒ–æ¶æ„
- **Dockerå®¹å™¨**: åŸºäºDockerçš„è½»é‡çº§å®¹å™¨
- **é•œåƒç®¡ç†**: é¢„æ„å»ºçš„è¯­è¨€ç¯å¢ƒé•œåƒ
- **åŠ¨æ€æ‰©ç¼©**: æ ¹æ®è´Ÿè½½åŠ¨æ€è°ƒæ•´å®¹å™¨æ•°é‡
- **èµ„æºè°ƒåº¦**: æ™ºèƒ½çš„èµ„æºåˆ†é…å’Œè°ƒåº¦

### å®‰å…¨å±‚æ¬¡
1. **ç³»ç»Ÿçº§**: æ“ä½œç³»ç»Ÿçº§åˆ«çš„éš”ç¦»å’Œé™åˆ¶
2. **å®¹å™¨çº§**: å®¹å™¨çº§åˆ«çš„èµ„æºæ§åˆ¶
3. **åº”ç”¨çº§**: åº”ç”¨çº§åˆ«çš„è®¿é—®æ§åˆ¶
4. **ä»£ç çº§**: ä»£ç æ‰§è¡Œçš„å®‰å…¨æ£€æŸ¥

## ğŸ¯ åº”ç”¨åœºæ™¯

### ä»£ç æ•™è‚²
- åœ¨çº¿ç¼–ç¨‹å­¦ä¹ å¹³å°
- ä»£ç ç¤ºä¾‹æ¼”ç¤ºå’Œæ‰§è¡Œ
- ç¼–ç¨‹ä½œä¸šè‡ªåŠ¨è¯„æµ‹
- ä»£ç å®‰å…¨æ€§æ•™å­¦

### æ•°æ®åˆ†æ
- å®‰å…¨çš„æ•°æ®å¤„ç†å’Œåˆ†æ
- æ•°æ®å¯è§†åŒ–ç”Ÿæˆ
- æœºå™¨å­¦ä¹ æ¨¡å‹è®­ç»ƒ
- ç»Ÿè®¡åˆ†ææŠ¥å‘Šç”Ÿæˆ

### åŸå‹å¼€å‘
- å¿«é€ŸåŸå‹éªŒè¯
- GUIåº”ç”¨ç¨‹åºæµ‹è¯•
- è·¨å¹³å°å…¼å®¹æ€§æµ‹è¯•
- æ€§èƒ½åŸºå‡†æµ‹è¯•

## ğŸ“¦ ä¾èµ–åŒ…
- `docker`: Dockerå®¹å™¨ç®¡ç†
- `psutil`: ç³»ç»Ÿèµ„æºç›‘æ§
- `PIL/Pillow`: å›¾åƒå¤„ç†
- `selenium`: Webè‡ªåŠ¨åŒ–ï¼ˆå¯é€‰ï¼‰
- `pyautogui`: GUIè‡ªåŠ¨åŒ–
- `asyncio`: å¼‚æ­¥ç¼–ç¨‹æ”¯æŒ

## âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹

### å®‰å…¨è€ƒè™‘
- ä¸¥æ ¼é™åˆ¶æ²™ç®±ç¯å¢ƒçš„æ–‡ä»¶è®¿é—®æƒé™
- ç›‘æ§å’Œè®°å½•æ‰€æœ‰æ²™ç®±æ´»åŠ¨
- å®šæœŸæ›´æ–°æ²™ç®±ç¯å¢ƒå’Œå®‰å…¨è¡¥ä¸
- å®ç°ä»£ç æ‰§è¡Œçš„æ¶æ„è¡Œä¸ºæ£€æµ‹

### æ€§èƒ½ä¼˜åŒ–
- åˆç†è®¾ç½®èµ„æºé™åˆ¶ï¼Œé¿å…èµ„æºè€—å°½
- ä½¿ç”¨å®¹å™¨ç¼“å­˜åŠ é€Ÿç¯å¢ƒå¯åŠ¨
- å®ç°æ²™ç®±ç¯å¢ƒçš„å¤ç”¨æœºåˆ¶
- ç›‘æ§ç³»ç»Ÿè´Ÿè½½ï¼Œé˜²æ­¢è¿‡è½½

### è¿ç»´ç®¡ç†
- å®šæœŸæ¸…ç†ä¸´æ—¶æ–‡ä»¶å’Œå®¹å™¨
- ç›‘æ§æ²™ç®±ç¯å¢ƒçš„å¥åº·çŠ¶æ€
- å»ºç«‹å®Œå–„çš„æ—¥å¿—è®°å½•æœºåˆ¶
- å®ç°å¼‚å¸¸æƒ…å†µçš„è‡ªåŠ¨æ¢å¤

## ğŸ”— ç›¸å…³ç»„ä»¶
- å¯ä¸ä»£ç ç”Ÿæˆç»„ä»¶ç»“åˆï¼Œæä¾›å®‰å…¨çš„ä»£ç æ‰§è¡Œç¯å¢ƒ
- æ”¯æŒä¸æ•™è‚²å¹³å°é›†æˆï¼Œæ„å»ºåœ¨çº¿ç¼–ç¨‹å­¦ä¹ ç³»ç»Ÿ
- å¯ä¸æ•°æ®åˆ†æç»„ä»¶é…åˆï¼Œæä¾›éš”ç¦»çš„åˆ†æç¯å¢ƒ
- æ”¯æŒä¸æµ‹è¯•æ¡†æ¶é›†æˆï¼Œè¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•